{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapState, mapActions, mapGetters } from 'vuex';\nexport default {\n  name: 'ProfileView',\n  data() {\n    return {\n      loading: false,\n      error: null,\n      bookingsLoading: false,\n      bookingsError: null,\n      historyLoading: false,\n      historyError: null,\n      history: [],\n      showEditForm: false,\n      showPasswordForm: false,\n      showCancelModal: false,\n      bookingToCancel: null,\n      editForm: {\n        name: '',\n        email: ''\n      },\n      passwordForm: {\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      },\n      editLoading: false,\n      editError: null,\n      passwordLoading: false,\n      passwordError: null,\n      bookingActionsLoading: false,\n      notFoundImage: '/images/placeholder-movie.jpg'\n    };\n  },\n  computed: {\n    ...mapState('auth', ['user']),\n    ...mapGetters('cart', ['userBookings']),\n    userInitials() {\n      if (!this.user || !this.user.name) return 'U';\n      const nameParts = this.user.name.split(' ');\n      if (nameParts.length === 1) {\n        return nameParts[0].charAt(0).toUpperCase();\n      }\n      return (nameParts[0].charAt(0) + nameParts[nameParts.length - 1].charAt(0)).toUpperCase();\n    },\n    memberSince() {\n      if (!this.user || !this.user.createdAt) return 'récemment';\n      return this.formatDate(this.user.createdAt);\n    }\n  },\n  methods: {\n    ...mapActions('auth', ['updateProfile', 'changePassword']),\n    ...mapActions('cart', ['fetchUserBookings', 'cancelBooking']),\n    async loadUserData() {\n      this.loading = true;\n      this.error = null;\n      try {\n        // Les données utilisateur sont déjà dans le store,\n        // mais on pourrait faire une requête spécifique pour le profil si nécessaire\n        if (this.user) {\n          this.editForm.name = this.user.name;\n          this.editForm.email = this.user.email;\n        }\n      } catch (error) {\n        console.error('Erreur lors du chargement des données utilisateur:', error);\n        this.error = 'Impossible de charger vos informations. Veuillez réessayer.';\n      } finally {\n        this.loading = false;\n      }\n    },\n    async loadBookings() {\n      this.bookingsLoading = true;\n      this.bookingsError = null;\n      try {\n        await this.fetchUserBookings();\n      } catch (error) {\n        console.error('Erreur lors du chargement des réservations:', error);\n        this.bookingsError = 'Impossible de charger vos réservations. Veuillez réessayer.';\n      } finally {\n        this.bookingsLoading = false;\n      }\n    },\n    async loadHistory() {\n      this.historyLoading = true;\n      this.historyError = null;\n      try {\n        // Ici, vous pouvez appeler une action spécifique pour récupérer l'historique\n        // Pour l'instant, nous utilisons un tableau vide\n        this.history = [];\n      } catch (error) {\n        console.error('Erreur lors du chargement de l\\'historique:', error);\n        this.historyError = 'Impossible de charger votre historique. Veuillez réessayer.';\n      } finally {\n        this.historyLoading = false;\n      }\n    },\n    async handleUpdateProfile() {\n      this.editLoading = true;\n      this.editError = null;\n      try {\n        await this.updateProfile(this.editForm);\n        this.showEditForm = false;\n        this.$toasted.success('Profil mis à jour avec succès');\n      } catch (error) {\n        console.error('Erreur lors de la mise à jour du profil:', error);\n        this.editError = 'Erreur lors de la mise à jour du profil. Veuillez réessayer.';\n      } finally {\n        this.editLoading = false;\n      }\n    },\n    async handleChangePassword() {\n      if (this.passwordForm.newPassword !== this.passwordForm.confirmPassword) {\n        this.passwordError = 'Les mots de passe ne correspondent pas.';\n        return;\n      }\n      this.passwordLoading = true;\n      this.passwordError = null;\n      try {\n        await this.changePassword({\n          currentPassword: this.passwordForm.currentPassword,\n          newPassword: this.passwordForm.newPassword\n        });\n        this.showPasswordForm = false;\n        this.passwordForm = {\n          currentPassword: '',\n          newPassword: '',\n          confirmPassword: ''\n        };\n        this.$toasted.success('Mot de passe changé avec succès');\n      } catch (error) {\n        console.error('Erreur lors du changement de mot de passe:', error);\n        this.passwordError = 'Erreur lors du changement de mot de passe. Veuillez vérifier votre mot de passe actuel.';\n      } finally {\n        this.passwordLoading = false;\n      }\n    },\n    handleCancelBooking(bookingId) {\n      this.bookingToCancel = bookingId;\n      this.showCancelModal = true;\n    },\n    async confirmCancelBooking() {\n      if (!this.bookingToCancel) return;\n      this.bookingActionsLoading = true;\n      try {\n        await this.cancelBooking(this.bookingToCancel);\n        this.showCancelModal = false;\n        this.bookingToCancel = null;\n        if (this.$toasted) {\n          this.$toasted.success('Réservation annulée avec succès');\n        }\n\n        // Recharger les réservations n'est pas nécessaire car le store est déjà mis à jour\n      } catch (error) {\n        console.error('Erreur lors de l\\'annulation de la réservation:', error);\n        if (this.$toasted) {\n          this.$toasted.error('Erreur lors de l\\'annulation de la réservation');\n        }\n      } finally {\n        this.bookingActionsLoading = false;\n      }\n    },\n    goToMovie(movieId) {\n      this.$router.push({\n        name: 'movie',\n        params: {\n          id: movieId\n        }\n      });\n    },\n    formatDate(dateString) {\n      if (!dateString) return '';\n      const options = {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      };\n      return new Date(dateString).toLocaleDateString('fr-FR', options);\n    },\n    formatPrice(price) {\n      return new Intl.NumberFormat('fr-FR', {\n        style: 'currency',\n        currency: 'EUR'\n      }).format(price);\n    },\n    handleImageError(e) {\n      e.target.src = this.notFoundImage;\n    }\n  },\n  created() {\n    this.loadUserData();\n    this.loadBookings();\n    this.loadHistory();\n  }\n};","map":{"version":3,"names":["mapState","mapActions","mapGetters","name","data","loading","error","bookingsLoading","bookingsError","historyLoading","historyError","history","showEditForm","showPasswordForm","showCancelModal","bookingToCancel","editForm","email","passwordForm","currentPassword","newPassword","confirmPassword","editLoading","editError","passwordLoading","passwordError","bookingActionsLoading","notFoundImage","computed","userInitials","user","nameParts","split","length","charAt","toUpperCase","memberSince","createdAt","formatDate","methods","loadUserData","console","loadBookings","fetchUserBookings","loadHistory","handleUpdateProfile","updateProfile","$toasted","success","handleChangePassword","changePassword","handleCancelBooking","bookingId","confirmCancelBooking","cancelBooking","goToMovie","movieId","$router","push","params","id","dateString","options","year","month","day","Date","toLocaleDateString","formatPrice","price","Intl","NumberFormat","style","currency","format","handleImageError","e","target","src","created"],"sources":["/Users/alandelaigue/Desktop/cinema-v2/src/views/ProfileView.vue"],"sourcesContent":["<template>\n  <div class=\"profile-view\">\n    <h1 class=\"page-title\">Mon profil</h1>\n    \n    <div v-if=\"loading\" class=\"loading\">\n      <div class=\"spinner\"></div>\n      <p>Chargement des données du profil...</p>\n    </div>\n    \n    <div v-else-if=\"error\" class=\"error\">\n      <p>{{ error }}</p>\n      <button @click=\"loadUserData\" class=\"btn\">Réessayer</button>\n    </div>\n    \n    <div v-else class=\"profile-content\">\n      <!-- Informations du profil -->\n      <div class=\"user-profile\">\n        <div class=\"user-avatar\">\n          <div class=\"avatar\">{{ userInitials }}</div>\n        </div>\n        <div class=\"user-info\">\n          <h2 class=\"user-name\">{{ user ? user.name : 'Utilisateur' }}</h2>\n          <p class=\"user-email\">{{ user ? user.email : '' }}</p>\n          <p class=\"member-since\">Membre depuis {{ memberSince }}</p>\n        </div>\n        <div class=\"profile-actions\">\n          <button @click=\"showEditForm = true\" class=\"btn secondary\">\n            Modifier le profil\n          </button>\n          <button @click=\"showPasswordForm = true\" class=\"btn secondary\">\n            Changer le mot de passe\n          </button>\n        </div>\n      </div>\n      \n      <!-- Section Mes réservations -->\n      <div class=\"user-bookings\">\n        <h2>Mes réservations</h2>\n        \n        <div v-if=\"bookingsLoading\" class=\"section-loading\">\n          <div class=\"spinner small\"></div>\n          <p>Chargement de vos réservations...</p>\n        </div>\n        \n        <div v-else-if=\"bookingsError\" class=\"section-error\">\n          <p>{{ bookingsError }}</p>\n          <button @click=\"loadBookings\" class=\"btn text\">Réessayer</button>\n        </div>\n        \n        <div v-else-if=\"!userBookings || userBookings.length === 0\" class=\"empty-section\">\n          <p>Vous n'avez pas encore effectué de réservation.</p>\n          <router-link to=\"/\" class=\"btn secondary\">Parcourir les films</router-link>\n        </div>\n        \n        <div v-else class=\"bookings-list\">\n          <div v-for=\"booking in userBookings\" :key=\"booking.bookingId\" class=\"booking-card\">\n            <div class=\"booking-poster\">\n              <img \n                :src=\"booking.moviePoster !== 'N/A' ? booking.moviePoster : '/images/placeholder-movie.jpg'\" \n                :alt=\"booking.movieTitle\" \n                @error=\"handleImageError\"\n              />\n            </div>\n            <div class=\"booking-info\">\n              <h3 class=\"booking-title\">{{ booking.movieTitle }}</h3>\n              <p class=\"booking-status\" :class=\"{ 'cancelled': booking.status === 'annulé' }\">\n                {{ booking.status }}\n              </p>\n              <p class=\"booking-date\">\n                {{ formatDate(booking.date) }} à {{ booking.time }}\n              </p>\n              <p class=\"booking-seats\">{{ booking.quantity }} place(s)</p>\n              <p class=\"booking-price\">{{ formatPrice(booking.totalPrice) }}</p>\n            </div>\n            <div class=\"booking-actions\">\n              <button \n                v-if=\"booking.status !== 'annulé'\"\n                @click=\"handleCancelBooking(booking.bookingId)\" \n                class=\"btn danger\"\n                :disabled=\"bookingActionsLoading\"\n              >\n                Annuler\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Section Mes films vus récemment -->\n      <div class=\"user-history\">\n        <h2>Films vus récemment</h2>\n        \n        <div v-if=\"historyLoading\" class=\"section-loading\">\n          <div class=\"spinner small\"></div>\n          <p>Chargement de votre historique...</p>\n        </div>\n        \n        <div v-else-if=\"historyError\" class=\"section-error\">\n          <p>{{ historyError }}</p>\n          <button @click=\"loadHistory\" class=\"btn text\">Réessayer</button>\n        </div>\n        \n        <div v-else-if=\"history && history.length === 0\" class=\"empty-section\">\n          <p>Aucun film vu récemment.</p>\n        </div>\n        \n        <div v-else-if=\"history\" class=\"history-grid\">\n          <div \n            v-for=\"item in history\" \n            :key=\"item._id\" \n            class=\"history-item\"\n            @click=\"goToMovie(item.movieId)\"\n          >\n            <img \n              :src=\"item.moviePoster !== 'N/A' ? item.moviePoster : '/images/placeholder-movie.jpg'\" \n              :alt=\"item.movieTitle\" \n              @error=\"handleImageError\"\n            />\n            <div class=\"history-info\">\n              <h3>{{ item.movieTitle }}</h3>\n              <p>Vu le {{ formatDate(item.viewedAt) }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Modal de confirmation d'annulation -->\n    <div v-if=\"showCancelModal\" class=\"modal-overlay\" @click.self=\"showCancelModal = false\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h2>Confirmer l'annulation</h2>\n          <button @click=\"showCancelModal = false\" class=\"close-btn\">&times;</button>\n        </div>\n        <div class=\"modal-body\">\n          <p>Êtes-vous sûr de vouloir annuler cette réservation ?</p>\n          <p class=\"warning-text\">Cette action est irréversible.</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button @click=\"showCancelModal = false\" class=\"btn secondary\">Non, garder ma réservation</button>\n          <button @click=\"confirmCancelBooking\" class=\"btn danger\">Oui, annuler</button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Modal d'édition du profil -->\n    <div v-if=\"showEditForm\" class=\"modal-overlay\" @click.self=\"showEditForm = false\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h2>Modifier mon profil</h2>\n          <button @click=\"showEditForm = false\" class=\"close-btn\">&times;</button>\n        </div>\n        <form @submit.prevent=\"handleUpdateProfile\" class=\"profile-form\">\n          <div class=\"form-group\">\n            <label for=\"name\">Nom</label>\n            <input \n              type=\"text\" \n              id=\"name\" \n              v-model=\"editForm.name\" \n              required\n            />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"email\">Email</label>\n            <input \n              type=\"email\" \n              id=\"email\" \n              v-model=\"editForm.email\" \n              required\n            />\n          </div>\n          <div v-if=\"editError\" class=\"error-message\">\n            {{ editError }}\n          </div>\n          <div class=\"form-actions\">\n            <button type=\"button\" @click=\"showEditForm = false\" class=\"btn secondary\">\n              Annuler\n            </button>\n            <button type=\"submit\" class=\"btn\" :disabled=\"editLoading\">\n              {{ editLoading ? 'Enregistrement...' : 'Enregistrer' }}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n    \n    <!-- Modal de changement de mot de passe -->\n    <div v-if=\"showPasswordForm\" class=\"modal-overlay\" @click.self=\"showPasswordForm = false\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h2>Changer mon mot de passe</h2>\n          <button @click=\"showPasswordForm = false\" class=\"close-btn\">&times;</button>\n        </div>\n        <form @submit.prevent=\"handleChangePassword\" class=\"password-form\">\n          <div class=\"form-group\">\n            <label for=\"current-password\">Mot de passe actuel</label>\n            <input \n              type=\"password\" \n              id=\"current-password\" \n              v-model=\"passwordForm.currentPassword\" \n              required\n            />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"new-password\">Nouveau mot de passe</label>\n            <input \n              type=\"password\" \n              id=\"new-password\" \n              v-model=\"passwordForm.newPassword\" \n              required\n              minlength=\"8\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"confirm-password\">Confirmer le nouveau mot de passe</label>\n            <input \n              type=\"password\" \n              id=\"confirm-password\" \n              v-model=\"passwordForm.confirmPassword\" \n              required\n            />\n          </div>\n          <div v-if=\"passwordForm.newPassword !== passwordForm.confirmPassword\" class=\"error-message\">\n            Les mots de passe ne correspondent pas.\n          </div>\n          <div v-if=\"passwordError\" class=\"error-message\">\n            {{ passwordError }}\n          </div>\n          <div class=\"form-actions\">\n            <button type=\"button\" @click=\"showPasswordForm = false\" class=\"btn secondary\">\n              Annuler\n            </button>\n            <button \n              type=\"submit\" \n              class=\"btn\" \n              :disabled=\"passwordLoading || passwordForm.newPassword !== passwordForm.confirmPassword\"\n            >\n              {{ passwordLoading ? 'Changement...' : 'Changer le mot de passe' }}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions, mapGetters } from 'vuex';\n\nexport default {\n  name: 'ProfileView',\n  data() {\n    return {\n      loading: false,\n      error: null,\n      bookingsLoading: false,\n      bookingsError: null,\n      historyLoading: false,\n      historyError: null,\n      history: [],\n      showEditForm: false,\n      showPasswordForm: false,\n      showCancelModal: false,\n      bookingToCancel: null,\n      editForm: {\n        name: '',\n        email: ''\n      },\n      passwordForm: {\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      },\n      editLoading: false,\n      editError: null,\n      passwordLoading: false,\n      passwordError: null,\n      bookingActionsLoading: false,\n      notFoundImage: '/images/placeholder-movie.jpg'\n    };\n  },\n  computed: {\n    ...mapState('auth', ['user']),\n    ...mapGetters('cart', ['userBookings']),\n    \n    userInitials() {\n      if (!this.user || !this.user.name) return 'U';\n      \n      const nameParts = this.user.name.split(' ');\n      if (nameParts.length === 1) {\n        return nameParts[0].charAt(0).toUpperCase();\n      }\n      return (nameParts[0].charAt(0) + nameParts[nameParts.length - 1].charAt(0)).toUpperCase();\n    },\n    \n    memberSince() {\n      if (!this.user || !this.user.createdAt) return 'récemment';\n      \n      return this.formatDate(this.user.createdAt);\n    }\n  },\n  methods: {\n    ...mapActions('auth', ['updateProfile', 'changePassword']),\n    ...mapActions('cart', ['fetchUserBookings', 'cancelBooking']),\n    \n    async loadUserData() {\n      this.loading = true;\n      this.error = null;\n      \n      try {\n        // Les données utilisateur sont déjà dans le store,\n        // mais on pourrait faire une requête spécifique pour le profil si nécessaire\n        if (this.user) {\n          this.editForm.name = this.user.name;\n          this.editForm.email = this.user.email;\n        }\n      } catch (error) {\n        console.error('Erreur lors du chargement des données utilisateur:', error);\n        this.error = 'Impossible de charger vos informations. Veuillez réessayer.';\n      } finally {\n        this.loading = false;\n      }\n    },\n    \n    async loadBookings() {\n      this.bookingsLoading = true;\n      this.bookingsError = null;\n      \n      try {\n        await this.fetchUserBookings();\n      } catch (error) {\n        console.error('Erreur lors du chargement des réservations:', error);\n        this.bookingsError = 'Impossible de charger vos réservations. Veuillez réessayer.';\n      } finally {\n        this.bookingsLoading = false;\n      }\n    },\n    \n    async loadHistory() {\n      this.historyLoading = true;\n      this.historyError = null;\n      \n      try {\n        // Ici, vous pouvez appeler une action spécifique pour récupérer l'historique\n        // Pour l'instant, nous utilisons un tableau vide\n        this.history = [];\n      } catch (error) {\n        console.error('Erreur lors du chargement de l\\'historique:', error);\n        this.historyError = 'Impossible de charger votre historique. Veuillez réessayer.';\n      } finally {\n        this.historyLoading = false;\n      }\n    },\n    \n    async handleUpdateProfile() {\n      this.editLoading = true;\n      this.editError = null;\n      \n      try {\n        await this.updateProfile(this.editForm);\n        this.showEditForm = false;\n        this.$toasted.success('Profil mis à jour avec succès');\n      } catch (error) {\n        console.error('Erreur lors de la mise à jour du profil:', error);\n        this.editError = 'Erreur lors de la mise à jour du profil. Veuillez réessayer.';\n      } finally {\n        this.editLoading = false;\n      }\n    },\n    \n    async handleChangePassword() {\n      if (this.passwordForm.newPassword !== this.passwordForm.confirmPassword) {\n        this.passwordError = 'Les mots de passe ne correspondent pas.';\n        return;\n      }\n      \n      this.passwordLoading = true;\n      this.passwordError = null;\n      \n      try {\n        await this.changePassword({\n          currentPassword: this.passwordForm.currentPassword,\n          newPassword: this.passwordForm.newPassword\n        });\n        \n        this.showPasswordForm = false;\n        this.passwordForm = {\n          currentPassword: '',\n          newPassword: '',\n          confirmPassword: ''\n        };\n        \n        this.$toasted.success('Mot de passe changé avec succès');\n      } catch (error) {\n        console.error('Erreur lors du changement de mot de passe:', error);\n        this.passwordError = 'Erreur lors du changement de mot de passe. Veuillez vérifier votre mot de passe actuel.';\n      } finally {\n        this.passwordLoading = false;\n      }\n    },\n    \n    handleCancelBooking(bookingId) {\n      this.bookingToCancel = bookingId;\n      this.showCancelModal = true;\n    },\n    \n    async confirmCancelBooking() {\n      if (!this.bookingToCancel) return;\n      \n      this.bookingActionsLoading = true;\n      \n      try {\n        await this.cancelBooking(this.bookingToCancel);\n        \n        this.showCancelModal = false;\n        this.bookingToCancel = null;\n        \n        if (this.$toasted) {\n          this.$toasted.success('Réservation annulée avec succès');\n        }\n        \n        // Recharger les réservations n'est pas nécessaire car le store est déjà mis à jour\n      } catch (error) {\n        console.error('Erreur lors de l\\'annulation de la réservation:', error);\n        \n        if (this.$toasted) {\n          this.$toasted.error('Erreur lors de l\\'annulation de la réservation');\n        }\n      } finally {\n        this.bookingActionsLoading = false;\n      }\n    },\n    \n    goToMovie(movieId) {\n      this.$router.push({ name: 'movie', params: { id: movieId } });\n    },\n    \n    formatDate(dateString) {\n      if (!dateString) return '';\n      \n      const options = { year: 'numeric', month: 'long', day: 'numeric' };\n      return new Date(dateString).toLocaleDateString('fr-FR', options);\n    },\n    \n    formatPrice(price) {\n      return new Intl.NumberFormat('fr-FR', {\n        style: 'currency',\n        currency: 'EUR'\n      }).format(price);\n    },\n    \n    handleImageError(e) {\n      e.target.src = this.notFoundImage;\n    }\n  },\n  created() {\n    this.loadUserData();\n    this.loadBookings();\n    this.loadHistory();\n  }\n}\n</script>\n\n<style scoped>\n.profile-view {\n  max-width: 1000px;\n  margin: 0 auto;\n  padding: 2rem;\n}\n\n.page-title {\n  font-size: 2rem;\n  margin-bottom: 2rem;\n  color: #333;\n}\n\n.profile-content {\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n}\n\n.user-profile, .user-bookings, .user-history {\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  padding: 1.5rem;\n}\n\n.user-profile {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1.5rem;\n  align-items: center;\n}\n\n.user-avatar {\n  flex: 0 0 80px;\n}\n\n.avatar {\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  background-color: #e50914;\n  color: white;\n  font-size: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.user-info {\n  flex: 1;\n}\n\n.user-name {\n  font-size: 1.5rem;\n  margin-bottom: 0.3rem;\n  color: #333;\n}\n\n.user-email {\n  color: #666;\n  margin-bottom: 0.5rem;\n}\n\n.member-since {\n  font-size: 0.9rem;\n  color: #888;\n}\n\n.profile-actions {\n  display: flex;\n  gap: 1rem;\n  flex-wrap: wrap;\n}\n\n.user-bookings h2, .user-history h2 {\n  margin-bottom: 1.5rem;\n  color: #333;\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid #eee;\n}\n\n.section-loading, .section-error, .empty-section {\n  text-align: center;\n  padding: 2rem 0;\n  color: #666;\n}\n\n.spinner {\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 5px solid rgba(229, 9, 20, 0.3);\n  border-radius: 50%;\n  border-top-color: #e50914;\n  animation: spin 1s ease-in-out infinite;\n  margin-bottom: 1rem;\n}\n\n.spinner.small {\n  width: 30px;\n  height: 30px;\n  border-width: 3px;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n.bookings-list {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.booking-card {\n  display: flex;\n  background-color: #f9f9f9;\n  border-radius: 8px;\n  overflow: hidden;\n  border: 1px solid #eee;\n}\n\n.booking-poster {\n  width: 80px;\n  height: 120px;\n  flex-shrink: 0;\n}\n\n.booking-poster img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.booking-info {\n  flex: 1;\n  padding: 1rem;\n  position: relative;\n}\n\n.booking-title {\n  font-size: 1.1rem;\n  margin-bottom: 0.5rem;\n  color: #333;\n}\n\n.booking-date, .booking-seats {\n  color: #666;\n  margin-bottom: 0.3rem;\n}\n\n.booking-price {\n  font-weight: 600;\n  color: #e50914;\n}\n\n.booking-status {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  padding: 0.3rem 0.8rem;\n  background-color: #4CAF50;\n  color: white;\n  border-radius: 50px;\n  font-size: 0.8rem;\n  font-weight: 600;\n  text-transform: uppercase;\n}\n\n.booking-status.cancelled {\n  background-color: #f44336;\n}\n\n.booking-actions {\n  display: flex;\n  align-items: center;\n  padding: 1rem;\n}\n\n.history-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  gap: 1rem;\n}\n\n.history-item {\n  background-color: #f9f9f9;\n  border-radius: 8px;\n  overflow: hidden;\n  cursor: pointer;\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n\n.history-item:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n}\n\n.history-item img {\n  width: 100%;\n  height: 225px;\n  object-fit: cover;\n}\n\n.history-info {\n  padding: 1rem;\n}\n\n.history-info h3 {\n  font-size: 1rem;\n  margin-bottom: 0.3rem;\n  color: #333;\n}\n\n.history-info p {\n  font-size: 0.8rem;\n  color: #666;\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background-color: white;\n  border-radius: 8px;\n  width: 100%;\n  max-width: 500px;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  border-bottom: 1px solid #eee;\n}\n\n.modal-header h2 {\n  margin: 0;\n  font-size: 1.5rem;\n  color: #333;\n}\n\n.modal-body {\n  padding: 1.5rem;\n  text-align: center;\n}\n\n.modal-body .warning-text {\n  color: #f44336;\n  font-weight: 500;\n  margin-top: 0.5rem;\n}\n\n.modal-footer {\n  padding: 1rem 1.5rem;\n  border-top: 1px solid #eee;\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  color: #777;\n}\n\n.close-btn:hover {\n  color: #333;\n}\n\n.profile-form, .password-form {\n  padding: 1.5rem;\n}\n\n.form-group {\n  margin-bottom: 1.5rem;\n}\n\nlabel {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 600;\n  color: #444;\n}\n\ninput {\n  width: 100%;\n  padding: 0.8rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n.bookings-list {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.booking-card {\n  display: flex;\n  background-color: #f9f9f9;\n  border-radius: 8px;\n  overflow: hidden;\n  border: 1px solid #eee;\n}\n\n.booking-poster {\n  width: 80px;\n  height: 120px;\n  flex-shrink: 0;\n}\n\n.booking-poster img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.booking-info {\n  flex: 1;\n  padding: 1rem;\n  position: relative;\n}\n\n.booking-title {\n  font-size: 1.1rem;\n  margin-bottom: 0.5rem;\n  color: #333;\n}\n\n.booking-date, .booking-seats {\n  color: #666;\n  margin-bottom: 0.3rem;\n}\n\n.booking-price {\n  font-weight: 600;\n  color: #e50914;\n}\n\n.booking-status {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  padding: 0.3rem 0.8rem;\n  background-color: #4CAF50;\n  color: white;\n  border-radius: 50px;\n  font-size: 0.8rem;\n  font-weight: 600;\n  text-transform: uppercase;\n}\n\n.booking-status.cancelled {\n  background-color: #f44336;\n}\n\n.booking-actions {\n  display: flex;\n  align-items: center;\n  padding: 1rem;\n}\n\n.history-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  gap: 1rem;\n}\n\n.history-item {\n  background-color: #f9f9f9;\n  border-radius: 8px;\n  overflow: hidden;\n  cursor: pointer;\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n\n.history-item:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n}\n\n.history-item img {\n  width: 100%;\n  height: 225px;\n  object-fit: cover;\n}\n\n.history-info {\n  padding: 1rem;\n}\n\n.history-info h3 {\n  font-size: 1rem;\n  margin-bottom: 0.3rem;\n  color: #333;\n}\n\n.history-info p {\n  font-size: 0.8rem;\n  color: #666;\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background-color: white;\n  border-radius: 8px;\n  width: 100%;\n  max-width: 500px;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  border-bottom: 1px solid #eee;\n}\n\n.modal-header h2 {\n  margin: 0;\n  font-size: 1.5rem;\n  color: #333;\n}\n\n.modal-body {\n  padding: 1.5rem;\n  text-align: center;\n}\n\n.modal-body .warning-text {\n  color: #f44336;\n  font-weight: 500;\n  margin-top: 0.5rem;\n}\n\n.modal-footer {\n  padding: 1rem 1.5rem;\n  border-top: 1px solid #eee;\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  color: #777;\n}\n\n.close-btn:hover {\n  color: #333;\n}\n\n.profile-form, .password-form {\n  padding: 1.5rem;\n}\n\n.form-group {\n  margin-bottom: 1.5rem;\n}\n\nlabel {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 600;\n  color: #444;\n}\n\ninput {\n  width: 100%;\n  padding: 0.8rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n}\n\ninput:focus {\n  outline: none;\n  border-color: #e50914;\n  box-shadow: 0 0 0 2px rgba(229, 9, 20, 0.2);\n}\n\n.error-message {\n  color: #e50914;\n  background-color: #ffebee;\n  padding: 0.8rem;\n  margin-bottom: 1rem;\n  border-radius: 4px;\n  font-size: 0.9rem;\n}\n\n.form-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n}\n\n.btn {\n  padding: 0.7rem 1.2rem;\n  background-color: #e50914;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n  text-decoration: none;\n  text-align: center;\n}\n\n.btn:hover {\n  background-color: #f40612;\n}\n\n.btn:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\n.btn.secondary {\n  background-color: #333;\n}\n\n.btn.secondary:hover {\n  background-color: #555;\n}\n\n.btn.danger {\n  background-color: #dc3545;\n}\n\n.btn.danger:hover {\n  background-color: #c82333;\n}\n\n.btn.text {\n  background: none;\n  color: #e50914;\n  padding: 0;\n  text-decoration: underline;\n}\n\n.btn.text:hover {\n  color: #f40612;\n  background: none;\n}\n\n@media (max-width: 768px) {\n  .profile-view {\n    padding: 1rem;\n  }\n  \n  .user-profile {\n    flex-direction: column;\n    text-align: center;\n  }\n  \n  .user-avatar {\n    margin: 0 auto;\n  }\n  \n  .profile-actions {\n    width: 100%;\n    justify-content: center;\n  }\n  \n  .booking-card {\n    flex-direction: column;\n  }\n  \n  .booking-poster {\n    width: 100%;\n    height: 200px;\n  }\n  \n  .booking-info {\n    padding: 1rem;\n  }\n  \n  .booking-status {\n    position: static;\n    display: inline-block;\n    margin-bottom: 0.5rem;\n  }\n  \n  .booking-actions {\n    padding: 1rem;\n    justify-content: flex-end;\n  }\n  \n  .history-grid {\n    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n  }\n  \n  .history-item img {\n    height: 180px;\n  }\n  \n  .modal-footer {\n    flex-direction: column-reverse;\n  }\n  \n  .modal-footer .btn {\n    width: 100%;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}