{"ast":null,"code":"import axios from 'axios';\nconst API_KEY = '549f3c130164e3fbe7aec866b97b53e5';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p';\n\n// Tailles d'images disponibles\nexport const IMAGE_SIZES = {\n  poster: {\n    small: 'w185',\n    medium: 'w342',\n    large: 'w500',\n    original: 'original'\n  },\n  backdrop: {\n    small: 'w300',\n    medium: 'w780',\n    large: 'w1280',\n    original: 'original'\n  },\n  profile: {\n    small: 'w45',\n    medium: 'w185',\n    large: 'h632',\n    original: 'original'\n  }\n};\n\n// Créer une instance axios avec les configurations de base\nconst apiClient = axios.create({\n  baseURL: BASE_URL,\n  params: {\n    api_key: API_KEY,\n    language: 'fr-FR'\n  }\n});\n\n// Intercepteur pour gérer les erreurs globalement\napiClient.interceptors.response.use(response => response, error => {\n  const {\n    response\n  } = error;\n  if (response && response.data) {\n    return Promise.reject(new Error(response.data.status_message || 'Une erreur est survenue'));\n  }\n  return Promise.reject(new Error('Impossible de contacter le serveur. Veuillez vérifier votre connexion Internet.'));\n});\n\n// Fonction utilitaire pour construire les URLs des images\nexport const getImageUrl = (path, size = 'medium', type = 'poster') => {\n  if (!path) return null;\n  return `${IMAGE_BASE_URL}/${IMAGE_SIZES[type][size]}${path}`;\n};\nexport default apiClient;","map":{"version":3,"names":["axios","API_KEY","BASE_URL","IMAGE_BASE_URL","IMAGE_SIZES","poster","small","medium","large","original","backdrop","profile","apiClient","create","baseURL","params","api_key","language","interceptors","response","use","error","data","Promise","reject","Error","status_message","getImageUrl","path","size","type"],"sources":["/Users/alandelaigue/Desktop/cinema-v2/src/services/tmdb-api.js"],"sourcesContent":["import axios from 'axios'\n\nconst API_KEY = '549f3c130164e3fbe7aec866b97b53e5' \nconst BASE_URL = 'https://api.themoviedb.org/3'\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p'\n\n// Tailles d'images disponibles\nexport const IMAGE_SIZES = {\n  poster: {\n    small: 'w185',\n    medium: 'w342',\n    large: 'w500',\n    original: 'original'\n  },\n  backdrop: {\n    small: 'w300',\n    medium: 'w780',\n    large: 'w1280',\n    original: 'original'\n  },\n  profile: {\n    small: 'w45',\n    medium: 'w185',\n    large: 'h632',\n    original: 'original'\n  }\n}\n\n// Créer une instance axios avec les configurations de base\nconst apiClient = axios.create({\n  baseURL: BASE_URL,\n  params: {\n    api_key: API_KEY,\n    language: 'fr-FR'\n  }\n})\n\n// Intercepteur pour gérer les erreurs globalement\napiClient.interceptors.response.use(\n  response => response,\n  error => {\n    const { response } = error\n    \n    if (response && response.data) {\n      return Promise.reject(new Error(response.data.status_message || 'Une erreur est survenue'))\n    }\n    \n    return Promise.reject(new Error('Impossible de contacter le serveur. Veuillez vérifier votre connexion Internet.'))\n  }\n)\n\n// Fonction utilitaire pour construire les URLs des images\nexport const getImageUrl = (path, size = 'medium', type = 'poster') => {\n  if (!path) return null\n  return `${IMAGE_BASE_URL}/${IMAGE_SIZES[type][size]}${path}`\n}\n\nexport default apiClient"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,kCAAkC;AAClD,MAAMC,QAAQ,GAAG,8BAA8B;AAC/C,MAAMC,cAAc,GAAG,4BAA4B;;AAEnD;AACA,OAAO,MAAMC,WAAW,GAAG;EACzBC,MAAM,EAAE;IACNC,KAAK,EAAE,MAAM;IACbC,MAAM,EAAE,MAAM;IACdC,KAAK,EAAE,MAAM;IACbC,QAAQ,EAAE;EACZ,CAAC;EACDC,QAAQ,EAAE;IACRJ,KAAK,EAAE,MAAM;IACbC,MAAM,EAAE,MAAM;IACdC,KAAK,EAAE,OAAO;IACdC,QAAQ,EAAE;EACZ,CAAC;EACDE,OAAO,EAAE;IACPL,KAAK,EAAE,KAAK;IACZC,MAAM,EAAE,MAAM;IACdC,KAAK,EAAE,MAAM;IACbC,QAAQ,EAAE;EACZ;AACF,CAAC;;AAED;AACA,MAAMG,SAAS,GAAGZ,KAAK,CAACa,MAAM,CAAC;EAC7BC,OAAO,EAAEZ,QAAQ;EACjBa,MAAM,EAAE;IACNC,OAAO,EAAEf,OAAO;IAChBgB,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC;;AAEF;AACAL,SAAS,CAACM,YAAY,CAACC,QAAQ,CAACC,GAAG,CACjCD,QAAQ,IAAIA,QAAQ,EACpBE,KAAK,IAAI;EACP,MAAM;IAAEF;EAAS,CAAC,GAAGE,KAAK;EAE1B,IAAIF,QAAQ,IAAIA,QAAQ,CAACG,IAAI,EAAE;IAC7B,OAAOC,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAACN,QAAQ,CAACG,IAAI,CAACI,cAAc,IAAI,yBAAyB,CAAC,CAAC;EAC7F;EAEA,OAAOH,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,iFAAiF,CAAC,CAAC;AACrH,CACF,CAAC;;AAED;AACA,OAAO,MAAME,WAAW,GAAGA,CAACC,IAAI,EAAEC,IAAI,GAAG,QAAQ,EAAEC,IAAI,GAAG,QAAQ,KAAK;EACrE,IAAI,CAACF,IAAI,EAAE,OAAO,IAAI;EACtB,OAAO,GAAGzB,cAAc,IAAIC,WAAW,CAAC0B,IAAI,CAAC,CAACD,IAAI,CAAC,GAAGD,IAAI,EAAE;AAC9D,CAAC;AAED,eAAehB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}