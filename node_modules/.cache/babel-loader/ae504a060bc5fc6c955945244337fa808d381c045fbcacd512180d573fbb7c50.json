{"ast":null,"code":"import { vModelText as _vModelText, withKeys as _withKeys, createElementVNode as _createElementVNode, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"search-bar\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchQuery = $event),\n    onKeyup: _cache[1] || (_cache[1] = _withKeys((...args) => $options.search && $options.search(...args), [\"enter\"])),\n    placeholder: \"Rechercher un film...\",\n    class: \"search-input\"\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.searchQuery]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.search && $options.search(...args)),\n    class: \"search-button\"\n  }, _cache[3] || (_cache[3] = [_createElementVNode(\"span\", {\n    class: \"search-icon\"\n  }, \"üîç\", -1 /* HOISTED */)]))]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","type","_cache","$event","$data","searchQuery","onKeyup","_withKeys","args","$options","search","placeholder","onClick"],"sources":["/Users/alandelaigue/Desktop/cinema-v2/src/components/SearchBar.vue"],"sourcesContent":["<template>\n  <div class=\"search-bar\">\n    <input \n      type=\"text\" \n      v-model=\"searchQuery\" \n      @keyup.enter=\"search\"\n      placeholder=\"Rechercher un film...\" \n      class=\"search-input\"\n    />\n    <button @click=\"search\" class=\"search-button\">\n      <span class=\"search-icon\">&#128269;</span>\n    </button>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\n\nexport default {\n  name: 'SearchBar',\n  data() {\n    return {\n      searchQuery: ''\n    }\n  },\n  methods: {\n    ...mapActions({\n      searchMovies: 'movies/searchMovies'\n    }),\n    async search() {\n      if (this.searchQuery.trim()) {\n        // Ex√©cuter l'action de recherche avec page 1\n        await this.searchMovies({ query: this.searchQuery, page: 1 });\n        \n        // Si l'utilisateur n'est pas d√©j√† sur la page d'accueil, rediriger\n        if (this.$route.path !== '/') {\n          this.$router.push({ path: '/', query: { q: this.searchQuery } });\n        } else {\n          // Mettre √† jour l'URL avec le param√®tre de recherche sans recharger la page\n          this.$router.replace({ query: { q: this.searchQuery } });\n        }\n      }\n    }\n  },\n  async created() {\n    // R√©cup√©rer la recherche depuis l'URL si elle existe\n    const queryParam = this.$route.query.q;\n    if (queryParam) {\n      this.searchQuery = queryParam;\n      \n      // Ex√©cuter la recherche automatiquement si on est sur la page d'accueil\n      if (this.$route.path === '/') {\n        await this.searchMovies({ query: this.searchQuery, page: 1 });\n      }\n    }\n  },\n  watch: {\n    // Surveiller les changements dans l'URL et mettre √† jour la barre de recherche\n    '$route.query.q'(newQuery) {\n      if (newQuery) {\n        this.searchQuery = newQuery;\n      } else {\n        // R√©initialiser la recherche si le param√®tre est supprim√©\n        this.searchQuery = '';\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.search-bar {\n  display: flex;\n  align-items: center;\n  width: 100%;\n}\n\n.search-input {\n  flex: 1;\n  padding: 0.6rem 1rem;\n  border: none;\n  border-radius: 4px 0 0 4px;\n  font-size: 1rem;\n  outline: none;\n}\n\n.search-button {\n  background-color: #e50914;\n  color: white;\n  border: none;\n  padding: 0.6rem 1rem;\n  border-radius: 0 4px 4px 0;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.search-button:hover {\n  background-color: #b2070f;\n}\n\n.search-icon {\n  font-size: 1.1rem;\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAY;;uBAAvBC,mBAAA,CAWM,OAXNC,UAWM,G,gBAVJC,mBAAA,CAME;IALAC,IAAI,EAAC,MAAM;IAHjB,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAIeC,KAAA,CAAAC,WAAW,GAAAF,MAAA;IACnBG,OAAK,EAAAJ,MAAA,QAAAA,MAAA,MALZK,SAAA,KAAAC,IAAA,KAKoBC,QAAA,CAAAC,MAAA,IAAAD,QAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;IACpBG,WAAW,EAAC,uBAAuB;IACnCd,KAAK,EAAC;iEAHGO,KAAA,CAAAC,WAAW,E,GAKtBL,mBAAA,CAES;IAFAY,OAAK,EAAAV,MAAA,QAAAA,MAAA,UAAAM,IAAA,KAAEC,QAAA,CAAAC,MAAA,IAAAD,QAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;IAAEX,KAAK,EAAC;gCAC5BG,mBAAA,CAA0C;IAApCH,KAAK,EAAC;EAAa,GAAC,IAAS,oB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}